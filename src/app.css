@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

html {
    scrollbar-gutter: stable;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "PingFang SC",
        "Microsoft YaHei", "Helvetica Neue", "Noto Sans", "Segoe UI", sans-serif;
    font-display: swap;
    padding: env(safe-area-inset-top) env(safe-area-inset-right)
        env(safe-area-inset-bottom) env(safe-area-inset-left);
}

html,
body {
    height: 100dvh;
    margin: 0;
    padding: 0;
}

@supports not (height: 100dvh) {
    html,
    body {
        height: 100vh;
    }
}

/* main 作为主容器 */
main {
    height: 100%;
    width: 100%;
    overflow-y: auto; /* 内容滚动 */
    -webkit-overflow-scrolling: touch; /* iOS 顺滑滚动 */
    padding-top: env(safe-area-inset-top); /* 适配刘海屏等 */
    /* padding-bottom: env(safe-area-inset-bottom); */
}

/* 隐藏滚动条但保留功能 */
.scrollbar-hide {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
}

.scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
}

dialog::backdrop {
    background-color: rgba(0, 0, 0, 0.5);
    /* backdrop-filter: blur(6px); */
}

@keyframes slide-from-right {
    from {
        transform: translateX(100%);
    }
}

@keyframes slide-from-left {
    from {
        transform: translateX(-100%);
    }
}

@keyframes slide-to-right {
    to {
        transform: translateX(100%);
    }
}

@keyframes slide-to-left {
    to {
        transform: translateX(-100%);
    }
}

:root {
    --slide-in: slide-from-right;
    --slide-out: slide-to-left;
}

:root::view-transition-old(root) {
    animation: 300ms cubic-bezier(0.4, 0, 0.2, 1) both
        var(--slide-out, slide-to-left);
}

:root::view-transition-new(root) {
    animation: 300ms cubic-bezier(0.4, 0, 0.2, 1) both
        var(--slide-in, slide-from-right);
}

/* 禁用 daisyui 的 btn 的 scale 变换 */
.btn {
    transform: none !important;
    transition-property: color, background-color, border-color, opacity;
}

.bottom-safe {
    bottom: env(safe-area-inset-bottom);
}

.top-safe {
    top: env(safe-area-inset-top);
}

.btn:active {
    filter: brightness(0.9);
}

@keyframes shake {
    10%,
    90% {
        transform: translate3d(-1px, 0, 0);
    }

    20%,
    80% {
        transform: translate3d(2px, 0, 0);
    }

    30%,
    50%,
    70% {
        transform: translate3d(-4px, 0, 0);
    }

    40%,
    60% {
        transform: translate3d(4px, 0, 0);
    }
}
